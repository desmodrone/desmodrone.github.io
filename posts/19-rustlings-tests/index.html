<!DOCTYPE html>
<html lang="en-us">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <meta itemprop="name" content="desmo" />
  <meta itemprop="description" content="Random Ideas" />

  <link rel="apple-touch-icon" sizes="180x180" href="https://desmodrone.github.io/apple-touch-icon.png"/>
  <link rel="icon" type="image/png" sizes="32x32" href="https://desmodrone.github.io/favicon-32x32.png" />
  <link
    rel="icon"
    type="image/png"
    sizes="16x16"
    href="https://desmodrone.github.io/favicon-16x16.png"
  />
  <link
    rel="shortcut icon"
    href="https://desmodrone.github.io/favicon.ico"
  />
  <link rel="stylesheet" href="https://desmodrone.github.io/style.css"/>
  
  <title>19 Rustlings Tests Solution</title>
  

  
  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://desmodrone.github.io/rss.xml">
  

  <body id="page">

	
<header id="site-header" class="animated slideInUp faster">
  <div class="hdr-wrapper section-inner">
    <div class="hdr-left">
      <div class="site-branding">
        <a href="https:&#x2F;&#x2F;desmodrone.github.io">desmo</a>
      </div>
      <nav class="site-nav hide-in-mobile">
            
        
        <a href="https://desmodrone.github.io/posts">posts</a>
        
        <a href="https://desmodrone.github.io/about">about</a>
        
        <a href="https://desmodrone.github.io/work">work</a>
        
      </nav>
    </div>
    <div class="hdr-right hdr-icons">
      <span class="hdr-social hide-in-mobile">
        

<a href="https:&#x2F;&#x2F;twitter.com&#x2F;desmo_io" target="_blank" rel="noopener me"
   title="twitter">
  
  <svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>
  
</a>

<a href="https:&#x2F;&#x2F;github.com&#x2F;desmodrone" target="_blank" rel="noopener me"
   title="github">
  
  <svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
  
</a>

<a href="mailto:erick@apexwins.com" target="_blank" rel="noopener me"
   title="email">
  
  <svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
  
</a>


      </span>
      <button id="menu-btn" class="hdr-btn" title="Menu">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="feather feather-menu"
        >
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>
    </div>
  </div>
</header>
<div id="mobile-menu" class="animated fast">
  <ul>
    
    <li><a href="https://desmodrone.github.io/posts">posts</a></li>
    
    <li><a href="https://desmodrone.github.io/about">about</a></li>
    
    <li><a href="https://desmodrone.github.io/work">work</a></li>
    
  </ul>
</div>

	
	

		
<main class="site-main section-inner animated fadeIn faster">
  <article class="thin">
	<header class="post-header">
	  <div class="post-meta">
		
		<span>Sep 15, 2023</span>
		<small> - 
<span class="reading-time" title="Estimated read time">
  
  5 min read
  
</span>
</small>
		
            
	  </div>
	  <h1>19 Rustlings Tests Solution</h1>
	</header>

	<div class="content">
        
	  <p>We're going out of order from the book to cover tests -- many of the following exercises will ask you to make tests pass!</p>
<h2 id="further-information">Further information</h2>
<ul>
<li><a href="https://doc.rust-lang.org/book/ch11-01-writing-tests.html">Writing Tests</a></li>
</ul>
<h2 id="tests1-rs">Tests1.rs</h2>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">&#x2F;&#x2F; tests1.rs
&#x2F;&#x2F; Tests are important to ensure that your code does what you think it should do.
&#x2F;&#x2F; Tests can be run on this file with the following command:
&#x2F;&#x2F; rustlings run tests1

&#x2F;&#x2F; This test has a problem with it -- make the test compile! Make the test
&#x2F;&#x2F; pass! Make the test fail!
&#x2F;&#x2F; Execute `rustlings hint tests1` or use the `hint` watch subcommand for a hint.

&#x2F;&#x2F; I AM NOT DONE

#[cfg(test)]
mod tests {
    #[test]
    fn you_can_assert() {
        assert!();
    }
}
</code></pre>
<p>So now we're looking at tests, an important part of the development process in any language is being able to test your code. In our first exercise we see instructions that tells us to make the test compile, make the test fail, essentially to play around with the code.
Let's look at our errors.</p>
<h2 id="test1-rs-errors">Test1.rs errors</h2>
<pre><code>âš ï¸  Compiling of exercises&#x2F;tests&#x2F;tests1.rs failed! Please try again. Here&#x27;s the output:
error: macro requires a boolean expression as an argument
  --&gt; exercises&#x2F;tests&#x2F;tests1.rs:16:9
   |
16 |         assert!();
   |         ^^^^^^^^^ boolean expression required

error: aborting due to previous error
</code></pre>
<p>The compiler gives us a big hint, we need to add a boolean expression. So let's try that.</p>
<h2 id="test1-rs-solution">Test1.rs Solution</h2>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">
#[cfg(test)]
mod tests {
    #[test]
    fn you_can_assert() {
        assert!(false == false); &#x2F;&#x2F; let&#x27;s add false == false
    }
}
</code></pre>
<p>if we add this we actually compile and pass the tests:</p>
<pre><code>âœ… Successfully tested exercises&#x2F;tests&#x2F;tests1.rs

ğŸ‰ ğŸ‰  The code is compiling, and the tests pass! ğŸ‰ ğŸ‰
</code></pre>
<p>But let's see what happens when we change what's inside of the <code>assert!</code> as we are told to do in our exercises.
if we change our <code>assert!</code> to this:</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">assert!(false == true);
</code></pre>
<p>we fail and panic!</p>
<pre><code>running 1 test
test tests::you_can_assert ... FAILED

successes:

successes:

failures:

---- tests::you_can_assert stdout ----
thread &#x27;tests::you_can_assert&#x27; panicked at &#x27;assertion failed: false == true&#x27;, exercises&#x2F;tests&#x2F;tests1.rs:16:9
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
</code></pre>
<p>What about trying out different types</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">assert!(1 == 1); &#x2F;&#x2F; this passes âœ…

assert!(1); &#x2F;&#x2F; this fails âŒ

assert!(&quot;hi&quot; == &quot;hi&quot;); &#x2F;&#x2F; this passes âœ…
</code></pre>
<p>Alright, we get the idea we need to have something to compare it, and have it be equal for it to pass, alright got it! Let's move on.</p>
<h2 id="test2-rs">Test2.rs</h2>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">&#x2F;&#x2F; tests2.rs
&#x2F;&#x2F; This test has a problem with it -- make the test compile! Make the test
&#x2F;&#x2F; pass! Make the test fail!
&#x2F;&#x2F; Execute `rustlings hint tests2` or use the `hint` watch subcommand for a hint.

&#x2F;&#x2F; I AM NOT DONE

#[cfg(test)]
mod tests {
    #[test]
    fn you_can_assert_eq() {
        assert_eq!();
    }
}
</code></pre>
<p>Our instructions are again similar, we need to make the code compile and pass tests.</p>
<h2 id="test2-rs-errors">Test2.rs Errors</h2>
<p>Looking at the errors we can see</p>
<pre><code>âš ï¸  Compiling of exercises&#x2F;tests&#x2F;tests2.rs failed! Please try again. Here&#x27;s the output:
error: unexpected end of macro invocation
  --&gt; exercises&#x2F;tests&#x2F;tests2.rs:12:9
   |
12 |         assert_eq!();
   |         ^^^^^^^^^^^^ missing tokens in macro arguments
   |
note: while trying to match meta-variable `$left:expr`
  --&gt; &#x2F;Users&#x2F;desmo&#x2F;.rustup&#x2F;toolchains&#x2F;stable-aarch64-apple-darwin&#x2F;lib&#x2F;rustlib&#x2F;src&#x2F;rust&#x2F;library&#x2F;core&#x2F;src&#x2F;macros&#x2F;mod.rs:37:6
</code></pre>
<p>Again we get a clear statement saying we have missing tokens in the macro arguments. So let's play around and see what we get.</p>
<h2 id="test2-rs-solution">Test2.rs Solution</h2>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">#[cfg(test)]
mod tests {
    #[test]
    fn you_can_assert_eq() {
        assert_eq!(0, true);
    }
}
</code></pre>
<p>This fails!  Let's see what the compiler says</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">âš ï¸  Compiling of exercises&#x2F;tests&#x2F;tests2.rs failed! Please try again. Here&#x27;s the output:
error[E0308]: mismatched types
  --&gt; exercises&#x2F;tests&#x2F;tests2.rs:12:9
   |
12 |         assert_eq!(0, true);
   |         ^^^^^^^^^^^^^^^^^^^ expected integer, found `bool`
</code></pre>
<p>Okay, so now let's try</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">assert_eq!(0, 0);
</code></pre>
<p>This compiles</p>
<pre><code>âœ… Successfully tested exercises&#x2F;tests&#x2F;tests2.rs

ğŸ‰ ğŸ‰  The code is compiling, and the tests pass! ğŸ‰ ğŸ‰
</code></pre>
<p>Let's try different values</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">assert_eq!(&quot;hi&quot;, &quot;hi&quot;);  âœ…

assert_eq!(&quot;0&quot;, 0);  âŒ

assert_eq!(true, true); âœ…

assert_eq!(true, false); âŒ

</code></pre>
<p>Similar to our last exercise, we can enter comma separated values and see what happens. We clearly. have to enter matching values or the tests fail. Great, moving on!</p>
<h2 id="test3-rs">Test3.rs</h2>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">&#x2F;&#x2F; tests3.rs
&#x2F;&#x2F; This test isn&#x27;t testing our function -- make it do that in such a way that
&#x2F;&#x2F; the test passes. Then write a second test that tests whether we get the result
&#x2F;&#x2F; we expect to get when we call `is_even(5)`.
&#x2F;&#x2F; Execute `rustlings hint tests3` or use the `hint` watch subcommand for a hint.

&#x2F;&#x2F; I AM NOT DONE

pub fn is_even(num: i32) -&gt; bool {
    num % 2 == 0
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn is_true_when_even() {
        assert!();
    }

    #[test]
    fn is_false_when_odd() {
        assert!();
    }
}
</code></pre>
<p>Now, we finally get a function to test, it looks like we have to make the code compile and pass tests. If we look at the function we can see that it takes in an <code>i32</code> and returns a <code>bool</code> meaning, either <code>true</code> or <code>false</code> so does that give us a hint as to what to do?</p>
<h2 id="test3-rs-errors">Test3.rs Errors</h2>
<p>Let's take a look at the errors, again we see that we have an expression missing in our <code>assert!</code> macro, so let's fix that.</p>
<pre><code>âš ï¸  Compiling of exercises&#x2F;tests&#x2F;tests3.rs failed! Please try again. Here&#x27;s the output:
error: macro requires a boolean expression as an argument
  --&gt; exercises&#x2F;tests&#x2F;tests3.rs:19:9
   |
19 |         assert!();
   |         ^^^^^^^^^ boolean expression required

error: macro requires a boolean expression as an argument
  --&gt; exercises&#x2F;tests&#x2F;tests3.rs:24:9
   |
24 |         assert!();
   |         ^^^^^^^^^ boolean expression required

warning: unused import: `super::*`
  --&gt; exercises&#x2F;tests&#x2F;tests3.rs:15:9
   |
15 |     use super::*;
   |         ^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` on by default

</code></pre>
<h2 id="test3-rs-solution">Test3.rs Solution</h2>
<p>We've been playing with these tests for a couple of exercises and we can say that we've seen that we need to have matching values. So we know that we need to match a <code>bool</code> so let's try that..</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">
pub fn is_even(num: i32) -&gt; bool {
    num % 2 == 0
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn is_true_when_even() {
        assert!(true == true);
    }

    #[test]
    fn is_false_when_odd() {
        assert!(false == false);
    }
}
</code></pre>
<p>And there we have it! Our tests are passing and our code is compiling.</p>
<pre><code>running 2 tests
test tests::is_true_when_even ... ok

âœ… Successfully tested exercises&#x2F;tests&#x2F;tests3.rs

ğŸ‰ ğŸ‰  The code is compiling, and the tests pass! ğŸ‰ ğŸ‰
</code></pre>
<h2 id="conclusion">Conclusion</h2>
<p>Congratulations, you've just taken a quick look into the world of testing in Rust! From understanding how to make a test compile to making it pass or fail intentionally. You've also explored how to handle different types and expressions within the <code>assert!</code> and <code>assert_eq!</code> macros.</p>
<h3 id="key-takeaways">Key Takeaways:</h3>
<ol>
<li><strong>Boolean Expressions</strong>: The <code>assert!</code> macro requires a boolean expression. If the expression evaluates to <code>true</code>, the test passes; otherwise, it fails and panics.</li>
<li><strong>Matching Types</strong>: The <code>assert_eq!</code> macro expects two values of the same type. If they are equal, the test passes; otherwise, it fails.</li>
<li><strong>Function Testing</strong>: We also looked at how to test a custom function (<code>is_even</code>) using the <code>assert!</code> macro. This gave us a practical example of how testing integrates into real-world code.</li>
<li><strong>Error Messages</strong>: Paying attention to compiler error messages can provide valuable hints for resolving issues in your tests.</li>
<li><strong>Exploration</strong>: Don't be afraid to experiment. Changing the values and types in your tests can offer additional insights into how Rust's testing framework operates.</li>
</ol>
<p>Testing is a critical part of software development that ensures your code behaves as expected. It's a safety net that allows you to make changes to your code with confidence. As you continue your journey with Rust, you'll find that the language's robust testing framework is a powerful ally in writing reliable, robust software.</p>
<p>So, the next time you're writing code in Rust, remember: a test today can prevent a bug tomorrow. Happy coding!</p>

	</div>
	<hr class="post-end">
	<footer class="post-info">
    
	  <p>
		<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>
		
		
		<span class="tag"><a href="https://desmodrone.github.io/tags/rust/">rust</a></span>
		
		<span class="tag"><a href="https://desmodrone.github.io/tags/tests/">tests</a></span>
		
		<span class="tag"><a href="https://desmodrone.github.io/tags/assert/">assert!</a></span>
		
		<span class="tag"><a href="https://desmodrone.github.io/tags/rustlings/">rustlings</a></span>
		
		<span class="tag"><a href="https://desmodrone.github.io/tags/assert-eq/">assert_eq!</a></span>
		
		
    </p>
    
    <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>1267 Words</p>
    
    <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>2023-09-15</p>
    
	</footer>
  </article>
    
  
  <div class="post-nav thin">
	
	
  </div>

  
</main>

	  </div>
	  
	  



<footer id="site-footer" class="section-inner thin animated fadeIn faster">
  <p>&copy; 2024 <a href="https:&#x2F;&#x2F;desmodrone.github.io">erick</a> &#183; <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></p>
  <p>Made with <a href="https://www.getzola.org" target="_blank" rel="noopener">Zola</a> &#183; Theme <a href="https://github.com/VersBinarii/hermit_zola" target="_blank" rel="noopener">Hermit_Zola</a>
	
	&#183; <a href="https://desmodrone.github.io/rss.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a>
	
  </p>
</footer>




	</div>
	
	<script src="https://desmodrone.github.io/js/main.js"></script>

	<!-- Math rendering -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
        onload="renderMathInElement(document.body, { delimiters: [ {left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false}, {left: '\\[', right: '\\]', display: true}, {left: '\\(', right: '\\)', display: false}]});"></script>

    
		<link href="https://unpkg.com/highlightjs-badge/highlightjs/styles/monokai.css" rel="stylesheet">
		<!-- https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.1/build/styles/  for min version -->
		<script src="https://unpkg.com/highlightjs-badge/highlightjs/highlight.pack.js"></script>
		<script src="https://unpkg.com/highlightjs-badge/highlightjs-badge.min.js"></script>
		<script>
			var pres = document.querySelectorAll("pre>code");
			for (var i = 0; i < pres.length; i++) {
				hljs.highlightBlock(pres[i]);
			}
		</script>
		
			<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script>
			<script>
				var options = {
					copyIconClass: "gg-clipboard",
					checkIconClass: "gg-check"
				};
				window.highlightJsBadge(options);
			</script>
		

	

	
	<script src="https://desmodrone.github.io/js/main.js"></script>

    
    

	
    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9MNTYXYNHK"></script>
    <script>
     window.dataLayer = window.dataLayer || [];
     function gtag(){dataLayer.push(arguments);}
     gtag('js', new Date());
     gtag('config', 'G-9MNTYXYNHK');
    </script>
    
  </body>
</html>
