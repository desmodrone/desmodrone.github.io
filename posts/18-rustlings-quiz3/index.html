<!DOCTYPE html>
<html lang="en-us">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <meta itemprop="name" content="desmo" />
  <meta itemprop="description" content="Random Ideas" />

  <link rel="apple-touch-icon" sizes="180x180" href="https://desmodrone.github.io/apple-touch-icon.png"/>
  <link rel="icon" type="image/png" sizes="32x32" href="https://desmodrone.github.io/favicon-32x32.png" />
  <link
    rel="icon"
    type="image/png"
    sizes="16x16"
    href="https://desmodrone.github.io/favicon-16x16.png"
  />
  <link
    rel="shortcut icon"
    href="https://desmodrone.github.io/favicon.ico"
  />
  <link rel="stylesheet" href="https://desmodrone.github.io/style.css"/>
  
  <title>18 Rustlings Quiz 3</title>
  

  
  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://desmodrone.github.io/rss.xml">
  

  <body id="page">

	
<header id="site-header" class="animated slideInUp faster">
  <div class="hdr-wrapper section-inner">
    <div class="hdr-left">
      <div class="site-branding">
        <a href="https:&#x2F;&#x2F;desmodrone.github.io">desmo</a>
      </div>
      <nav class="site-nav hide-in-mobile">
            
        
        <a href="https://desmodrone.github.io/posts">posts</a>
        
        <a href="https://desmodrone.github.io/about">about</a>
        
        <a href="https://desmodrone.github.io/work">work</a>
        
      </nav>
    </div>
    <div class="hdr-right hdr-icons">
      <span class="hdr-social hide-in-mobile">
        

<a href="https:&#x2F;&#x2F;twitter.com&#x2F;desmo_io" target="_blank" rel="noopener me"
   title="twitter">
  
  <svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>
  
</a>

<a href="https:&#x2F;&#x2F;github.com&#x2F;desmodrone" target="_blank" rel="noopener me"
   title="github">
  
  <svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
  
</a>

<a href="mailto:erick@apexwins.com" target="_blank" rel="noopener me"
   title="email">
  
  <svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
  
</a>


      </span>
      <button id="menu-btn" class="hdr-btn" title="Menu">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="feather feather-menu"
        >
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>
    </div>
  </div>
</header>
<div id="mobile-menu" class="animated fast">
  <ul>
    
    <li><a href="https://desmodrone.github.io/posts">posts</a></li>
    
    <li><a href="https://desmodrone.github.io/about">about</a></li>
    
    <li><a href="https://desmodrone.github.io/work">work</a></li>
    
  </ul>
</div>

	
	

		
<main class="site-main section-inner animated fadeIn faster">
  <article class="thin">
	<header class="post-header">
	  <div class="post-meta">
		
		<span>Sep 05, 2023</span>
		<small> - 
<span class="reading-time" title="Estimated read time">
  
  4 min read
  
</span>
</small>
		
            
	  </div>
	  <h1>18 Rustlings Quiz 3</h1>
	</header>

	<div class="content">
        
	  <h2 id="quiz3-rs">Quiz3.rs</h2>
<p>It's time to revisit what we've learned so far. In this case, we're focusing on generics and traits in Rust. Let's dive into the exercise.</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">&#x2F;&#x2F; quiz3.rs
&#x2F;&#x2F; This quiz tests:
&#x2F;&#x2F; - Generics
&#x2F;&#x2F; - Traits
&#x2F;&#x2F; An imaginary magical school has a new report card generation system written in Rust!
&#x2F;&#x2F; Currently the system only supports creating report cards where the student&#x27;s grade
&#x2F;&#x2F; is represented numerically (e.g. 1.0 -&gt; 5.5).
&#x2F;&#x2F; However, the school also issues alphabetical grades (A+ -&gt; F-) and needs
&#x2F;&#x2F; to be able to print both types of report card!

&#x2F;&#x2F; Make the necessary code changes in the struct ReportCard and the impl block
&#x2F;&#x2F; to support alphabetical report cards. Change the Grade in the second test to &quot;A+&quot;
&#x2F;&#x2F; to show that your changes allow alphabetical grades.

&#x2F;&#x2F; Execute `rustlings hint quiz3` or use the `hint` watch subcommand for a hint.

&#x2F;&#x2F; I AM NOT DONE

pub struct ReportCard {
    pub grade: f32,
    pub student_name: String,
    pub student_age: u8,
}

impl ReportCard {
    pub fn print(&amp;self) -&gt; String {
        format!(&quot;{} ({}) - achieved a grade of {}&quot;,
            &amp;self.student_name, &amp;self.student_age, &amp;self.grade)
    }
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn generate_numeric_report_card() {
        let report_card = ReportCard {
            grade: 2.1,
            student_name: &quot;Tom Wriggle&quot;.to_string(),
            student_age: 12,
        };
        assert_eq!(
            report_card.print(),
            &quot;Tom Wriggle (12) - achieved a grade of 2.1&quot;
        );
    }

    #[test]
    fn generate_alphabetic_report_card() {
        &#x2F;&#x2F; TODO: Make sure to change the grade here after you finish the exercise.
        let report_card = ReportCard {
            grade: 2.1,
            student_name: &quot;Gary Plotter&quot;.to_string(),
            student_age: 11,
        };
        assert_eq!(
            report_card.print(),
            &quot;Gary Plotter (11) - achieved a grade of A+&quot;
        );
    }
}

</code></pre>
<p>Our task here is to allow both numeric and alphabetical grades, currently we can only print numeric grades correctly. So we how can we fix this. Generics of course!</p>
<h2 id="quiz3-rs-errors">Quiz3.rs errors</h2>
<p>When we run the tests, we find that one test passes while the other fails. Here's the output:</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">⚠️  Testing of exercises&#x2F;quiz3.rs failed! Please try again. Here&#x27;s the output:

running 2 tests
test tests::generate_numeric_report_card ... ok
test tests::generate_alphabetic_report_card ... FAILED

successes:

successes:
    tests::generate_numeric_report_card

failures:

---- tests::generate_alphabetic_report_card stdout ----
thread &#x27;tests::generate_alphabetic_report_card&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `&quot;Gary Plotter (11) - achieved a grade of 2.1&quot;`,
 right: `&quot;Gary Plotter (11) - achieved a grade of A+&quot;`&#x27;, exercises&#x2F;quiz3.rs:57:9
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    tests::generate_alphabetic_report_card

test result: FAILED. 1 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s
</code></pre>
<h2 id="quiz3-rs-solution">Quiz3.rs solution</h2>
<p>The issue here is that our <code>ReportCard</code> struct is not designed to handle both numerical and alphabetical grades. So let's solve this problem by implementing generics.</p>
<p>Our original <code>ReportCard</code> struct looks like this:</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">pub struct ReportCard {
    pub grade: f32,
    pub student_name: String,
    pub student_age: u8,
}
</code></pre>
<h3 id="updating-the-struct-to-use-generics">Updating the Struct to use Generics</h3>
<p>Since the <code>student_name</code> will always be a <code>String</code> and the <code>student_age</code> will always be a <code>u8</code>, we only need to make the <code>grade</code> field generic:</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">pub struct ReportCard&lt;T&gt; {
	pub grade: T,
	pub student_name: String,
	pub student_age: u8,
}
</code></pre>
<p>This should do the trick for the struct but now we have to take a look at our <code>impl</code> block</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">impl ReportCard {
    pub fn print(&amp;self) -&gt; String {
        format!(&quot;{} ({}) - achieved a grade of {}&quot;,
            &amp;self.student_name, &amp;self.student_age, &amp;self.grade)
    }
}
</code></pre>
<h3 id="updating-the-implementation-block">Updating the Implementation Block</h3>
<p>Next, we update the <code>impl</code> block to accommodate the generic type <code>T</code>:</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">impl&lt;T&gt; ReportCard&lt;T&gt; {
 &#x2F;&#x2F; rest of code
}
</code></pre>
<p>This let's the compiler know that we are using generics in this block of code. Alright let's save the changes and see what happens!</p>
<h2 id="uh-oh-problems">Uh oh. Problems</h2>
<p>So it seems like we are not quite done yet. Since we are now using generics in our <code>impl</code> block the compiler is telling us that we cannot format the <code>grade</code> portion of this code on line 29 at : <code>&amp;self.grade</code>, but luckily it has a suggestion. The compiler suggests restricting <code>T</code> to types that implement <code>Display</code>:</p>
<pre><code>⚠️  Compiling of exercises&#x2F;quiz3.rs failed! Please try again. Here&#x27;s the output:
error[E0277]: `T` doesn&#x27;t implement `std::fmt::Display`
  --&gt; exercises&#x2F;quiz3.rs:29:52
   |
29 |             &amp;self.student_name, &amp;self.student_age, &amp;self.grade
   |                                                    ^^^^^^^^^^^ `T` cannot be formatted with the default formatter
   |
   = note: in format strings you may be able to use `{:?}` (or {:#?} for pretty-print) instead
   = note: this error originates in the macro `$crate::__export::format_args` which comes from the expansion of the macro `format` (in Nightly builds, run with -Z macro-backtrace for more info)
help: consider restricting type parameter `T`
   |
25 | impl&lt;T: std::fmt::Display&gt; ReportCard&lt;T&gt; {
   |       +++++++++++++++++++

error: aborting due to previous error
</code></pre>
<p>Okay so let's fix that our <code>impl</code> block now looks like this:</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">impl&lt;T&gt; ReportCard&lt;T&gt; {
    pub fn print(&amp;self) -&gt; String {
        format!(
            &quot;{} ({}) - achieved a grade of {}&quot;,
            &amp;self.student_name, &amp;self.student_age, &amp;self.grade
        )
    }
}
</code></pre>
<p>If we save now we should be..doh. Our test fails.</p>
<pre><code>running 2 tests
test tests::generate_numeric_report_card ... ok
test tests::generate_alphabetic_report_card ... FAILED

successes:

successes:
    tests::generate_numeric_report_card

failures:

---- tests::generate_alphabetic_report_card stdout ----
thread &#x27;tests::generate_alphabetic_report_card&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `&quot;Gary Plotter (11) - achieved a grade of 2.1&quot;`,
 right: `&quot;Gary Plotter (11) - achieved a grade of A+&quot;`&#x27;, exercises&#x2F;quiz3.rs:59:9
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    tests::generate_alphabetic_report_card
</code></pre>
<h3 id="resolving-test-failures">Resolving Test Failures</h3>
<p>After making these changes, the test for alphabetical grades still fails. The issue is that we forgot to update the grade in the <code>generate_alphabetic_report_card()</code> test function from <code>2.1</code> to <code>A+</code>.</p>
<h2 id="final-working-code">Final Working Code</h2>
<p>Here's the complete, working code for reference:</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">pub struct ReportCard&lt;T&gt; {
    pub grade: T,
    pub student_name: String,
    pub student_age: u8,
}

impl&lt;T: std::fmt::Display&gt; ReportCard&lt;T&gt; {
    pub fn print(&amp;self) -&gt; String {
        format!(
            &quot;{} ({}) - achieved a grade of {}&quot;,
            &amp;self.student_name, &amp;self.student_age, &amp;self.grade
        )
    }
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn generate_numeric_report_card() {
        let report_card = ReportCard {
            grade: 2.1,
            student_name: &quot;Tom Wriggle&quot;.to_string(),
            student_age: 12,
        };
        assert_eq!(
            report_card.print(),
            &quot;Tom Wriggle (12) - achieved a grade of 2.1&quot;
        );
    }

    #[test]
    fn generate_alphabetic_report_card() {

        let report_card = ReportCard {
            grade: &quot;A+&quot;,
            student_name: &quot;Gary Plotter&quot;.to_string(),
            student_age: 11,
        };
        assert_eq!(
            report_card.print(),
            &quot;Gary Plotter (11) - achieved a grade of A+&quot;
        );
    }
}

</code></pre>
<h2 id="notes">Notes</h2>
<p>I used the code below, in Rust playgrounds essentially letting me print the report card which then allowed me to have errors when trying to compile and better figure out what I needed to be doing by seeing the printout instead of just having the tests as the compiler gave me the error that <code>T&lt;: std::fmt::Debug&gt;</code> was missing from the <code>impl</code> signature.</p>
<blockquote>
<p>Note this is different that the <code>T&lt;: std::fmt::Display&gt;</code> used in solving the exercise.</p>
</blockquote>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">#[derive(Debug)]
pub struct ReportCard&lt;T&gt; {
    pub grade: T,
    pub student_name: String,
    pub student_age: u8,
}

impl&lt;T: std::fmt::Display&gt; ReportCard&lt;T&gt; {
    pub fn print(&amp;self) -&gt; String {
        format!(&quot;{} ({}) - achieved a grade of {:?}&quot;,
            &amp;self.student_name, &amp;self.student_age, &amp;self.grade)
    }
}

fn main() {
    fn generate_numeric_report_card() {
        let report_card = ReportCard {
            grade: 2.1,
            student_name: &quot;Tom Wriggle&quot;.to_string(),
            student_age: 12,
        };
        println!(&quot;{:?}&quot;, report_card);
    }
    generate_numeric_report_card();

    fn generate_alphabetic_report_card() {
        let report_card = ReportCard {
            grade: &quot;A+&quot;,
            student_name: &quot;Gary Plotter&quot;.to_string(),
            student_age: 12,
        };
        println!(&quot;{:?}&quot;, report_card);
    }
    generate_alphabetic_report_card();
}
</code></pre>
<h2 id="conclusion">Conclusion</h2>
<p>In this exercise, we learned how to use generics to make our <code>ReportCard</code> struct more flexible, allowing it to handle both numerical and alphabetical grades. We also saw how to constrain our generic types to those that implement specific traits, in this case, the <code>Display</code> trait. This ensures that we can format the grade regardless of its type.</p>

	</div>
	<hr class="post-end">
	<footer class="post-info">
    
	  <p>
		<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>
		
		
		<span class="tag"><a href="https://desmodrone.github.io/tags/rust/">rust</a></span>
		
		<span class="tag"><a href="https://desmodrone.github.io/tags/traits/">traits</a></span>
		
		<span class="tag"><a href="https://desmodrone.github.io/tags/methods/">methods</a></span>
		
		<span class="tag"><a href="https://desmodrone.github.io/tags/rustlings/">rustlings</a></span>
		
		<span class="tag"><a href="https://desmodrone.github.io/tags/generics/">generics</a></span>
		
		<span class="tag"><a href="https://desmodrone.github.io/tags/impl/">impl</a></span>
		
		<span class="tag"><a href="https://desmodrone.github.io/tags/self/">self</a></span>
		
		
    </p>
    
    <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>1164 Words</p>
    
    <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>2023-09-05</p>
    
	</footer>
  </article>
    
  
  <div class="post-nav thin">
	
	
  </div>

  
</main>

	  </div>
	  
	  



<footer id="site-footer" class="section-inner thin animated fadeIn faster">
  <p>&copy; 2023 <a href="https:&#x2F;&#x2F;desmodrone.github.io">erick</a> &#183; <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></p>
  <p>Made with <a href="https://www.getzola.org" target="_blank" rel="noopener">Zola</a> &#183; Theme <a href="https://github.com/VersBinarii/hermit_zola" target="_blank" rel="noopener">Hermit_Zola</a>
	
	&#183; <a href="https://desmodrone.github.io/rss.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a>
	
  </p>
</footer>




	</div>
	
	<script src="https://desmodrone.github.io/js/main.js"></script>

	<!-- Math rendering -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
        onload="renderMathInElement(document.body, { delimiters: [ {left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false}, {left: '\\[', right: '\\]', display: true}, {left: '\\(', right: '\\)', display: false}]});"></script>

    
		<link href="https://unpkg.com/highlightjs-badge/highlightjs/styles/railscasts.css" rel="stylesheet">
		<!-- https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.1/build/styles/  for min version -->
		<script src="https://unpkg.com/highlightjs-badge/highlightjs/highlight.pack.js"></script>
		<script src="https://unpkg.com/highlightjs-badge/highlightjs-badge.min.js"></script>
		<script>
			var pres = document.querySelectorAll("pre>code");
			for (var i = 0; i < pres.length; i++) {
				hljs.highlightBlock(pres[i]);
			}
		</script>
		
			<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script>
			<script>
				var options = {
					copyIconClass: "gg-clipboard",
					checkIconClass: "gg-check"
				};
				window.highlightJsBadge(options);
			</script>
		

	

	
	<script src="https://desmodrone.github.io/js/main.js"></script>

    
    

	
    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9MNTYXYNHK"></script>
    <script>
     window.dataLayer = window.dataLayer || [];
     function gtag(){dataLayer.push(arguments);}
     gtag('js', new Date());
     gtag('config', 'G-9MNTYXYNHK');
    </script>
    
  </body>
</html>
