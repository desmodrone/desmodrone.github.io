<!DOCTYPE html>
<html lang="en-us">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <meta itemprop="name" content="desmo" />
  <meta itemprop="description" content="Random Ideas" />

  <link rel="apple-touch-icon" sizes="180x180" href="https://desmodrone.github.io/apple-touch-icon.png"/>
  <link rel="icon" type="image/png" sizes="32x32" href="https://desmodrone.github.io/favicon-32x32.png" />
  <link
    rel="icon"
    type="image/png"
    sizes="16x16"
    href="https://desmodrone.github.io/favicon-16x16.png"
  />
  <link
    rel="shortcut icon"
    href="https://desmodrone.github.io/favicon.ico"
  />
  <link rel="stylesheet" href="https://desmodrone.github.io/style.css"/>
  
  <title>Notes on Traits and You: A Deep Dive Part 1</title>
  

  
  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://desmodrone.github.io/rss.xml">
  

  <body id="page">

	
<header id="site-header" class="animated slideInUp faster">
  <div class="hdr-wrapper section-inner">
    <div class="hdr-left">
      <div class="site-branding">
        <a href="https:&#x2F;&#x2F;desmodrone.github.io">desmo</a>
      </div>
      <nav class="site-nav hide-in-mobile">
            
        
        <a href="https://desmodrone.github.io/posts">posts</a>
        
        <a href="https://desmodrone.github.io/about">about</a>
        
      </nav>
    </div>
    <div class="hdr-right hdr-icons">
      <span class="hdr-social hide-in-mobile">
        

<a href="https:&#x2F;&#x2F;twitter.com&#x2F;desmodrone_" target="_blank" rel="noopener me"
   title="twitter">
  
  <svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>
  
</a>

<a href="https:&#x2F;&#x2F;github.com&#x2F;desmodrone" target="_blank" rel="noopener me"
   title="github">
  
  <svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
  
</a>

<a href="mailto:erick@apexwins.com" target="_blank" rel="noopener me"
   title="email">
  
  <svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
  
</a>


      </span>
      <button id="menu-btn" class="hdr-btn" title="Menu">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="feather feather-menu"
        >
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>
    </div>
  </div>
</header>
<div id="mobile-menu" class="animated fast">
  <ul>
    
    <li><a href="https://desmodrone.github.io/posts">posts</a></li>
    
    <li><a href="https://desmodrone.github.io/about">about</a></li>
    
  </ul>
</div>

	
	

		
<main class="site-main section-inner animated fadeIn faster">
  <article class="thin">
	<header class="post-header">
	  <div class="post-meta">
		
		<span>Mar 14, 2023</span>
		<small> - 
<span class="reading-time" title="Estimated read time">
  
  5 min read
  
</span>
</small>
		
            
	  </div>
	  <h1>Notes on Traits and You: A Deep Dive Part 1</h1>
	</header>

	<div class="content">
        
	  <h4 id="original-content-by-nell-shamrell-harrington">Original content by Nell Shamrell-Harrington</h4>
<p>When looking for resources to help me better understand Rust Traits, I found <a href="https://youtu.be/grU-4u0Okto">this video</a>from <a href="https://twitter.com/nellshamrell?s=21&amp;t=EhxGdIZ2VJ9HIqIS1LXcpw">Nell Shamrell-Harrington</a>. It's a great intro and overview into using Traits, which can be a little confusing when you first start learning Rust.</p>
<p>So these are my notes on this talk, if you haven't watched it and are struggling with learning Traits, I strongly suggest that you watch the video above before you do anything else. But if you're short on time and just want to reference my notes -- here they are. Disclaimer: these notes are my own interpretation of the talk and may not necessarily reflect the views of the original speaker. These note are primarily for me to learn these concepts, and I publish them for others to see and maybe benefit from. Feel free to let me know if I have errors or have misrepresentations.</p>
<h2 id="introduction">Introduction</h2>
<p>The talk covers 3 different ways that we can use Traits</p>
<ul>
<li>Traits 101 Introduction</li>
<li><a href="https://desmodrone.github.io/posts/traits-201/">Traits 201 Trait Bounds</a></li>
<li>Traits 301 Trait Objects</li>
</ul>
<p>Nell brilliantly uses D&amp;D as a metaphor to help explain Traits. It should be clear that the use of D&amp;D is just to help grasp some concepts, and the D&amp;D rules do not strictly apply in these concepts, so now that we have that out of the way let's begin.</p>
<h2 id="traits-101">Traits: 101</h2>
<p>On this post we will cover Traits 101, this will keep each post shorter and easier to digest.</p>
<p>In D&amp;D there are many different races, but we'll start by using these 4 different races:</p>
<ol>
<li>Dwarves</li>
<li>Elf</li>
<li>HalfOrc</li>
<li>Human</li>
</ol>
<h2 id="creating-our-structs">Creating our Structs</h2>
<p>Now let's create these races as structs in Rust</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">struct Dwarf {
	name:String
}

struct Elf {
	name:String
}

struct HalfOrc {
	name:String
}

struct Human {
	name:String
}
</code></pre>
<p>As you can see this is pretty straight forward code where we define the struct name (<code>Dwarf</code>, <code>Elf</code> etc.) and then add the <code>name:String</code> to allow our characters to be named.</p>
<h2 id="creating-our-dwarf">Creating our Dwarf</h2>
<p>First, let's create a Dwarf character.</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">let my_dwarf = Dwarf {
	name: String::from(&quot;DanDwarf&quot;)
}
</code></pre>
<p>A variable <code>my_dwarf</code> that stores our <code>Dwarf</code> type and we name him <code>DanDwarf</code></p>
<h2 id="d-d-core-traits">D&amp;D Core Traits</h2>
<p>In D&amp;D each character has core traits:</p>
<ul>
<li>Strength</li>
<li>Dexterity</li>
<li>Constitution</li>
<li>Intelligence</li>
<li>Wisdom</li>
<li>Charisma</li>
</ul>
<p>If you are not familiar in D&amp;D, character's core traits are defined in numbers, so an example would be that a character could have a Strength of: 8, a Dexterity of: 4, and a Constitution of 2, etc. as a base and depending on equipment or spells cast these traits could be boosted (or lowered).</p>
<h2 id="defining-a-trait">Defining a Trait</h2>
<p>Let's first define a <code>Constitution</code> trait that we can use on our soon to be defined Characters</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">&#x2F;&#x2F; Let&#x27;s make a constitution trait
&#x2F;&#x2F; where we define one function `constitution_bonus`
pub triat Constitution {
	fn constitution_bonus(&amp;self) -&gt; u8;
}
</code></pre>
<h2 id="implementing-constitution-for-dwarf">Implementing <code>Constitution</code> for <code>Dwarf</code></h2>
<p>So let's take one of these traits, in our case Constitution and define it in Rust for our Dwarf.  We'll say that Dwarves have a Constitution bonus of 2.</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">&#x2F;&#x2F;implemeting the trait
impl Constitution for Dwarf {
	fn constitution_bonus(&amp;self) -&gt; u8 {
	2 &#x2F;&#x2F; this returns 2, anytime the instance of a dwarf is called.
	}
}
</code></pre>
<p>Now that we've defined our trait we go back to our Dwarf, using our just defined  <code>constitution_bounus</code> that we can call on <code>my_dwarf</code> as shown below.</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">&#x2F;&#x2F; back to making the character
let my_dwarf = Dwarf {
	name: String::from(&quot;DanDwarf&quot;)
};

my_dwarf.constitution_bonus(); &#x2F;&#x2F; Returns 2
</code></pre>
<p>In this way no matter how many Dwarves we create, every single one of them will have the <code>constitution_bonus</code> of <code>2</code> attached.</p>
<h2 id="creating-a-halforc">Creating a HalfOrc</h2>
<p>Now, let's create a <code>HalfOrc</code> and we'll start by implementing the <code>constituion_bonus</code>, the Constitution bonus for a HalfOrc is <code>1</code></p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">impl Constitution for HalfOrc {
	fn constitution_bonus(&amp;self) -&gt; u8 {
	1
	}
}
</code></pre>
<p>This is the same as our Dwarf <code>impl</code> but instead returning a 2, it returns 1</p>
<p>Now we create the HalfOrc with:</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">let my_half_orc = HalfOrc {
	name: String::from(&quot;OscarOrc&quot;)
}

my_half_orc.constitution_bonus();&#x2F;&#x2F; Returns 1
</code></pre>
<p>Pretty straightforward right? We bind <code>my_half_orc</code> to our <code>HalfOrc</code> and name him <code>OscarOrc</code> and when we call the <code>constitution_bonus</code> and we know that it will return <code>1</code>, as we have defined in the <code>impl</code> block above.</p>
<h2 id="humans-and-elves">Humans and Elves</h2>
<p>Let's define our last 2 races of Humans and Elves, but let's say that both of these races have a constitution bonus of <code>0</code>.
Our first instinct might be to do the same as we did above and do this:</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">&#x2F;&#x2F; we can implement like this but this is repetitive
impl Constitution for Elf {
	fn constitution_bonus(&amp;self) -&gt; u8 {
	0
	}
}

impl Constitution for Human {
	fn constitution_bonus(&amp;self) -&gt; u8 {
	0
	}
}
</code></pre>
<p>This is clearly repetitive and not ideal. Another thing to note is that most races actually have a constitution bonus of <code>0</code>
So how do we deal with this?</p>
<p>Let's add a default value the <code>Constitution</code> trait we first created.</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">&#x2F;&#x2F; making `0` the default
pub triat Constitution {
	fn constitution_bonus(&amp;self) -&gt; u8 {
	0
	}
}
</code></pre>
<p>In this way unless we have a struct that implements this trait and overrides this default value it will always return <code>0</code></p>
<p>We still have to implement the traits on the struct, but we don't have to define how the constitution bonus works since it's default value is <code>0</code> and Humans and Elves' <code>constitution_bonus</code> matches the default value.</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">
impl Constitution for Elf{
}

impl Constitution for Human{
}
</code></pre>
<h2 id="creating-our-elf-and-human">Creating our Elf and Human</h2>
<p>We know the drill here, we define both of these in the same way that we did for our <code>my_dwarf</code> and <code>my_half_orc</code>, the only difference is that since we have defined a default value on the <code>Constitution</code> trait we have access to it automatically unless we further define the <code>consitution_bonus</code> like we did previously.</p>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">let my_elf = Elf{
	name:String::from(&quot;ElleElf&quot;)
};

my_elf.constituion_bonus(); &#x2F;&#x2F; Retuns 0
</code></pre>
<pre data-lang="rust" class="language-rust "><code class="language-rust" data-lang="rust">let my_human = Human {
	name:String::from(&quot;HarryHuman&quot;)
};

my_human.constitution_bonus(); &#x2F;&#x2F; Returns 0
</code></pre>
<p>There it is, we have created 4 D&amp;D characters and defined their <code>constitution_bonus</code> in a couple of different ways using Triats.</p>
<h2 id="summary">Summary</h2>
<p>Let's summarize what we did here, in a quick step-by-step so we can see how easy it actually is to use traits in this way.</p>
<ol>
<li>Create a <code>struct</code> for each of the races.</li>
<li>Create a character with a variable <code>my_&lt;race&gt;</code>  and defined it's type and name.</li>
<li>Create a <code>trait</code>, in our case <code>constitution_bonus</code></li>
<li>Implement the <code>triat</code> on the <code>Dwarf</code> struct
<ul>
<li>define constitution bonus as <code>2</code></li>
<li>calling <code>constitution_bonus()</code> on our character it returns <code>2</code></li>
<li>if we create more <code>Dwarf</code> characters they'd all have a constitution bonus of <code>2</code></li>
</ul>
</li>
<li>Implement the <code>trait</code> on the <code>HalfOrc</code> struct
<ul>
<li>define constitution bonus as <code>1</code></li>
<li>calling <code>constitution_bonus()</code> on our character returns <code>1</code></li>
<li>if we create more <code>HalfOrc</code> characters they'd all have a constitution bonus of <code>1</code></li>
</ul>
</li>
<li>Add a default value to our <code>Constitution</code> trait</li>
<li>Implement the <code>trait</code> on <code>Elves</code> and <code>Humans</code>(with no additional definition)</li>
<li>Created our <code>Elves</code> and <code>Humans</code>
<ul>
<li>calling <code>constitution_bonus()</code> on our elf and human characters returns <code>0</code></li>
<li>creating other races with no function definition in their implementation will always return <code>0</code></li>
</ul>
</li>
</ol>
<p>Alright, as you can see there's not a lot of tricky parts here, it's all pretty straight forward, especially when laid out in this way where we can see how easy it is, in a few easy steps start using Traits in Rust.</p>
<p>Next we'll dive into Traits 201, it will build on what we've learned here with Trait bounds. See you next time.</p>
<p>Update 2023-03-14:If you're ready for <a href="https://desmodrone.github.io/posts/traits-201/">Part 2</a>, it's ready for you.</p>

	</div>
	<hr class="post-end">
	<footer class="post-info">
    
	  <p>
		<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>
		
		
		<span class="tag"><a href="https://desmodrone.github.io/tags/rust/">rust</a></span>
		
		<span class="tag"><a href="https://desmodrone.github.io/tags/blog/">blog</a></span>
		
		<span class="tag"><a href="https://desmodrone.github.io/tags/traits/">traits</a></span>
		
		
    </p>
    
    <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>1265 Words</p>
    
    <p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>2023-03-14</p>
    
	</footer>
  </article>
    
  
  <div class="post-nav thin">
	
	
  </div>

  
</main>

	  </div>
	  
	  



<footer id="site-footer" class="section-inner thin animated fadeIn faster">
  <p>&copy; 2023 <a href="https:&#x2F;&#x2F;desmodrone.github.io">erick</a> &#183; <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></p>
  <p>Made with <a href="https://www.getzola.org" target="_blank" rel="noopener">Zola</a> &#183; Theme <a href="https://github.com/VersBinarii/hermit_zola" target="_blank" rel="noopener">Hermit_Zola</a>
	
	&#183; <a href="https://desmodrone.github.io/rss.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a>
	
  </p>
</footer>




	</div>
	
	<script src="https://desmodrone.github.io/js/main.js"></script>

	<!-- Math rendering -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
        onload="renderMathInElement(document.body, { delimiters: [ {left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false}, {left: '\\[', right: '\\]', display: true}, {left: '\\(', right: '\\)', display: false}]});"></script>

    
		<link href="https://unpkg.com/highlightjs-badge/highlightjs/styles/railscasts.css" rel="stylesheet">
		<!-- https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.1/build/styles/  for min version -->
		<script src="https://unpkg.com/highlightjs-badge/highlightjs/highlight.pack.js"></script>
		<script src="https://unpkg.com/highlightjs-badge/highlightjs-badge.min.js"></script>
		<script>
			var pres = document.querySelectorAll("pre>code");
			for (var i = 0; i < pres.length; i++) {
				hljs.highlightBlock(pres[i]);
			}
		</script>
		
			<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script>
			<script>
				var options = {
					copyIconClass: "gg-clipboard",
					checkIconClass: "gg-check"
				};
				window.highlightJsBadge(options);
			</script>
		

	

	
	<script src="https://desmodrone.github.io/js/main.js"></script>

    
    

	
    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9MNTYXYNHK"></script>
    <script>
     window.dataLayer = window.dataLayer || [];
     function gtag(){dataLayer.push(arguments);}
     gtag('js', new Date());
     gtag('config', 'G-9MNTYXYNHK');
    </script>
    
  </body>
</html>
